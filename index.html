```html
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignalXPro</title>
    <!-- مكتبة الأيقونات -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ==================== الخطوط والألوان ==================== */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Rajdhani:wght@500;700&display=swap');

        :root {
            /* الألوان الحديدية الصناعية (رمادي وأسود) */
            --bg-main: #121212;
            --iron-dark: #1a1a1a;
            --iron-mid: #262626;
            --iron-light: #333333;
            --iron-border: #444;
            
            --gold: #d4af37;
            --neon-green: #00e676;
            --neon-red: #ff1744;
            --text-main: #e0e0e0;
            --text-dim: #888;

            /* تأثيرات الظل 3D */
            --shadow-out: 5px 5px 10px #0a0a0a, -2px -2px 6px #383838;
            --shadow-in: inset 3px 3px 6px #0a0a0a, inset -2px -2px 5px #383838;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg-main);
            color: var(--text-main);
            font-family: 'Rajdhani', sans-serif;
            min-height: 100vh;
            overflow-x: forbidden;
            padding-bottom: 80px;
        }

        /* تحويل الخط عند العربية */
        html[lang="ar"] body { font-family: 'Cairo', sans-serif; }

        /* ==================== التصميم الحديدي (Iron Style) ==================== */
        .iron-card {
            background: linear-gradient(145deg, var(--iron-mid), var(--iron-dark));
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-out);
            border: 1px solid var(--iron-border);
            position: relative;
        }

        .screw {
            position: absolute; width: 8px; height: 8px;
            background: linear-gradient(45deg, #111, #555);
            border-radius: 50%; box-shadow: 0 1px 2px black; z-index: 2;
        }
        .screw::after { content: ''; position: absolute; top: 3px; left: 1px; width: 6px; height: 2px; background: #000; transform: rotate(45deg); }
        .tl { top: 8px; left: 8px; } .tr { top: 8px; right: 8px; }
        .bl { bottom: 8px; left: 8px; } .br { bottom: 8px; right: 8px; }

        .btn-iron {
            background: linear-gradient(145deg, #333, #1f1f1f);
            color: #fff; border: none; padding: 12px;
            border-radius: 8px; box-shadow: var(--shadow-out);
            font-weight: bold; cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
            width: 100%; border: 1px solid #444;
        }
        .btn-iron:active { box-shadow: var(--shadow-in); transform: scale(0.98); }

        /* ==================== الهيدر ==================== */
        .header-top {
            display: flex; justify-content: space-between; align-items: center;
            padding: 20px;
        }
        .logo-text {
            font-size: 1.6rem; font-weight: 900; color: #fff;
            text-shadow: 2px 2px 0 #000, 4px 4px 5px rgba(0,0,0,0.5);
            letter-spacing: 1px;
        }
        .lang-switch {
            background: transparent; border: 1px solid #555; color: #aaa;
            padding: 5px 10px; border-radius: 4px; cursor: pointer;
        }

        /* ==================== الصفحة الرئيسية ==================== */
        #home-view { padding: 0 15px; animation: fadeIn 0.5s; }

        /* 1. الإحصائيات + تلغرام */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center; margin-bottom: 15px; }
        .stat-item h3 { color: var(--gold); margin: 0; font-size: 1.1rem; }
        .stat-item p { color: var(--text-dim); font-size: 0.7rem; }
        
        .telegram-section {
            border-top: 1px solid #444; padding-top: 15px; margin-top: 10px; text-align: center;
        }
        .tg-btn {
            background: #333333; /* Changed from blue to gray */
            color: white; 
            border: 1px solid #444;
            padding: 8px 15px;
            border-radius: 20px; 
            font-size: 0.9rem; 
            margin-top: 5px; 
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3); 
            display: inline-flex; 
            align-items: center; 
            gap: 8px;
            transition: 0.2s;
        }
        .tg-btn:hover {
            background: #444444;
            transform: scale(1.05);
        }

        /* 2. التعليمات (4 متدرجة) */
        .instr-container { display: flex; flex-direction: column; gap: 15px; margin: 25px 0; }
        .inst-row { display: flex; width: 100%; }
        
        /* التحكم في التموضع (يمين/يسار) */
        .pos-right { justify-content: flex-end; }
        .pos-left { justify-content: flex-start; }

        /* في حال العربية (RTL)، الـ Flex-start يصبح يمين والـ Flex-end يصبح يسار بصرياً */
        /* لضمان التبادل البصري بغض النظر عن اللغة: */
        html[dir="ltr"] .pos-right { justify-content: flex-end; }
        html[dir="ltr"] .pos-left { justify-content: flex-start; }
        html[dir="rtl"] .pos-right { justify-content: flex-end; } /* بصرياً يسار */
        html[dir="rtl"] .pos-left { justify-content: flex-start; } /* بصرياً يمين */

        .inst-card-mini {
            width: 75%; background: var(--iron-mid); padding: 12px;
            border-radius: 8px; border: 1px solid #444; box-shadow: var(--shadow-out);
            font-size: 0.85rem; line-height: 1.4; position: relative;
        }
        .inst-num {
            position: absolute; top: -8px; width: 20px; height: 20px;
            background: var(--gold); color: #000; border-radius: 50%;
            text-align: center; font-weight: bold; font-size: 0.8rem; line-height: 20px;
            border: 2px solid #fff;
        }
        html[dir="ltr"] .inst-num { left: -8px; }
        html[dir="rtl"] .inst-num { right: -8px; }

        /* 3. المنصات */
        .plat-container { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
        .plat-box {
            width: 130px; height: 120px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; cursor: pointer; text-decoration: none;
        }
        .plat-img { width: 50px; height: 50px; border-radius: 8px; border: 1px solid #555; margin-bottom: 10px; }

        /* 4. التقييمات */
        .review-row {
            background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px; margin-bottom: 8px;
            border-right: 3px solid var(--gold);
        }
        .review-form input, .review-form textarea {
            width: 100%; background: #0f0f0f; border: 1px solid #333; color: #fff;
            padding: 10px; margin-bottom: 8px; border-radius: 5px;
        }
        .more-reviews-btn {
            display: block; width: 100%; text-align: center; padding: 10px;
            background: transparent; border: 1px dashed #555; color: var(--gold);
            margin-bottom: 15px; border-radius: 8px; cursor: pointer;
        }

        /* 5. الفوتر */
        .footer-bottom {
            margin-top: 40px; padding-top: 20px; border-top: 1px solid #333;
            text-align: center;
        }
        .social-row { display: flex; justify-content: center; gap: 20px; margin-bottom: 10px; }
        .soc-icon { color: #666; font-size: 1.4rem; }

        /* ==================== التطبيق ==================== */
        #app-view { display: none; height: 100vh; flex-direction: column; }
        .app-nav-top {
            padding: 15px; background: var(--iron-dark); display: flex;
            justify-content: space-between; align-items: center; border-bottom: 2px solid #000;
        }

        /* حاوية الصفقات الكبيرة */
        .signals-wrapper-card {
            background: linear-gradient(145deg, #222, #111);
            border-radius: 15px; padding: 20px; margin-bottom: 20px;
            border: 1px solid #444; min-height: 400px; position: relative;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
            display: flex; flex-direction: column; align-items: center;
        }

        /* بطاقة الصفقة */
        .signal-card {
            width: 100%; padding: 15px; border-radius: 10px; margin-top: 20px;
            color: #fff; position: relative; overflow: hidden;
            animation: slideUp 0.5s; box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
        .sig-green { 
            background: linear-gradient(135deg, #2a5c2a, #1e4a1e, #2e7d32); 
            border: 1px solid #4caf50; 
        }
        .sig-red { 
            background: linear-gradient(135deg, #7a1a1a, #5d1515, #8b0000); 
            border: 1px solid #f44336; 
        }
        
        @keyframes slideUp { from{opacity:0;transform:translateY(20px);} to{opacity:1;transform:translateY(0);} }

        /* النافبار السفلي */
        .btm-nav {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 400px; height: 60px;
            background: rgba(30,30,30,0.95); backdrop-filter: blur(5px);
            border-radius: 30px; border: 1px solid #444;
            display: flex; justify-content: space-around; align-items: center;
            box-shadow: 0 10px 20px #000; z-index: 100;
        }
        .nav-icon { font-size: 1.3rem; color: #666; cursor: pointer; position: relative; transition: 0.3s; }
        .nav-icon.active { color: var(--gold); transform: translateY(-3px); }
        .badge {
            position: absolute; top: -5px; right: -5px; background: var(--neon-red);
            color: #fff; border-radius: 50%; width: 16px; height: 16px;
            font-size: 0.7rem; display: flex; justify-content: center; align-items: center;
            opacity: 0;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <!-- 1️⃣ الشاشة الرئيسية -->
    <div id="home-view">
        <div class="header-top">
            <div class="logo-text">SignalXPro</div>
            <button class="lang-switch" onclick="toggleLang()">AR / EN</button>
        </div>

        <!-- 2️⃣ بطاقة الإحصائيات + تلغرام (أعيدت كما طلبت) -->
        <div class="iron-card">
            <div class="screw tl"></div><div class="screw tr"></div>
            <div class="screw bl"></div><div class="screw br"></div>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <h3 id="txt-users">+8500</h3>
                    <p id="lbl-users">Users</p>
                </div>
                <div class="stat-item">
                    <h3 id="txt-wins" style="color:var(--neon-green)">+15K</h3>
                    <p id="lbl-wins">Wins</p>
                </div>
                <div class="stat-item">
                    <h3 id="txt-loss" style="color:var(--neon-red)">410</h3>
                    <p id="lbl-loss">Losses</p>
                </div>
            </div>

            <!-- قسم التلغرام -->
            <div class="telegram-section">
                <p id="txt-join-tg" style="font-size:0.8rem; color:#ccc;">Join our channel for updates</p>
                <button class="tg-btn" onclick="window.open('#', '_blank')">
                    <i class="fa-brands fa-telegram"></i> <span id="btn-tg">Join Channel</span>
                </button>
            </div>
        </div>

        <!-- 3️⃣ التعليمات (4 متدرجة يمين/يسار) -->
        <h3 id="title-how" style="margin: 0 10px;">How it works:</h3>
        <div class="instr-container">
            <!-- 1: Right -->
            <div class="inst-row pos-right">
                <div class="inst-card-mini">
                    <div class="inst-num">1</div>
                    <span id="inst-1">Choose your trading platform below.</span>
                </div>
            </div>
            <!-- 2: Left -->
            <div class="inst-row pos-left">
                <div class="inst-card-mini">
                    <div class="inst-num">2</div>
                    <span id="inst-2">Wait for the signal notification.</span>
                </div>
            </div>
            <!-- 3: Right -->
            <div class="inst-row pos-right">
                <div class="inst-card-mini">
                    <div class="inst-num">3</div>
                    <span id="inst-3">Execute trade: Green=Buy, Red=Sell.</span>
                </div>
            </div>
            <!-- 4: Left -->
            <div class="inst-row pos-left">
                <div class="inst-card-mini">
                    <div class="inst-num">4</div>
                    <span id="inst-4">Use proper money management (max 5%).</span>
                </div>
            </div>
        </div>

        <!-- 4️⃣ اختيار المنصة -->
        <div style="text-align:center; margin-top:30px;">
            <h3 id="title-start" style="color:#fff;">START NOW</h3>
            <div style="width:50px; height:2px; background:var(--gold); margin:5px auto 15px;"></div>
            
            <div class="plat-container">
                <div class="iron-card plat-box" onclick="enterApp('Quotex')">
                    <div class="screw tl"></div><div class="screw tr"></div>
                    <div class="screw bl"></div><div class="screw br"></div>
                    <img src="https://i.imgur.com/iSjefBJ_d.jpeg?maxwidth=520&shape=thumb&fidelity=high" class="plat-img">
                    <span style="font-weight:bold; font-size:0.8rem;">QUOTEX</span>
                </div>
                <div class="iron-card plat-box" onclick="enterApp('Pocket Option')">
                    <div class="screw tl"></div><div class="screw tr"></div>
                    <div class="screw bl"></div><div class="screw br"></div>
                    <img src="https://i.imgur.com/Se4M9ol_d.jpeg?maxwidth=520&shape=thumb&fidelity=high" class="plat-img">
                    <span style="font-weight:bold; font-size:0.8rem;">POCKET</span>
                </div>
            </div>
        </div>

        <!-- 5️⃣ التقييمات (أعيدت كما طلبت) -->
        <div class="iron-card" style="margin-top:30px;">
            <div class="screw tl"></div><div class="screw tr"></div>
            <div class="screw bl"></div><div class="screw br"></div>
            
            <h4 id="title-reviews" style="margin-bottom:15px;">User Reviews</h4>
            
            <button class="more-reviews-btn" id="btn-more" onclick="alert('Loading...')">Show More Reviews</button>

            <div class="review-row">
                <div style="font-weight:bold; font-size:0.9rem;">Daniel K.</div>
                <div style="color:var(--gold); font-size:0.7rem;">★★★★★</div>
                <div style="font-size:0.8rem; color:#aaa;">Best iron design I have seen!</div>
            </div>
            
            <div class="review-row">
                <div style="font-weight:bold; font-size:0.9rem;">Sara M.</div>
                <div style="color:var(--gold); font-size:0.7rem;">★★★★☆</div>
                <div style="font-size:0.8rem; color:#aaa;">Signals are very accurate.</div>
            </div>

            <!-- نموذج إضافة تقييم -->
            <hr style="border-color:#333; margin:15px 0;">
            <div class="review-form">
                <h5 id="title-add-rev" style="margin-bottom:10px; color:#ccc;">Add Your Review</h5>
                <input type="text" id="inp-name" placeholder="Your Name">
                <textarea id="inp-msg" rows="2" placeholder="Your Message..."></textarea>
                <button class="btn-iron" onclick="alert('Review Submitted!')">
                    <span id="btn-submit">Submit Review</span>
                </button>
            </div>
        </div>

        <!-- الفوتر -->
        <div class="footer-bottom">
            <p id="txt-follow" style="font-size:0.8rem; color:#aaa; margin-bottom:10px;">Follow us for more bots & updates</p>
            <div class="social-row">
                <i class="fa-brands fa-instagram soc-icon"></i>
                <i class="fa-brands fa-facebook soc-icon"></i>
                <i class="fa-brands fa-tiktok soc-icon"></i>
                <i class="fa-brands fa-telegram soc-icon"></i>
            </div>
            <div style="font-size:0.75rem; color:#555; margin-top:15px;">
                Developed by Salah Badi © 2025
            </div>
        </div>
    </div>

    <!-- 2️⃣ واجهة التطبيق -->
    <div id="app-view">
        <div class="app-nav-top">
            <button class="btn-iron" style="width:auto; padding:5px 10px;" onclick="exitApp()">
                <i class="fa-solid fa-arrow-left"></i>
            </button>
            <div id="app-title" style="font-weight:bold; color:#fff;">PLATFORM</div>
            <button class="btn-iron" style="width:auto; padding:5px 10px;" onclick="toggleMute()">
                <i class="fa-solid fa-volume-high" id="icon-mute"></i>
            </button>
        </div>

        <div style="flex:1; overflow-y:auto; padding:20px;">
            
            <!-- صفحة الإشارات -->
            <div id="tab-signals">
                <!-- الحاوية الحديدية الكبيرة -->
                <div class="signals-wrapper-card">
                    <div class="screw tl"></div><div class="screw tr"></div>
                    <div class="screw bl"></div><div class="screw br"></div>
                    
                    <h4 id="txt-analyzing" style="margin-top:50px; color:#666;">Analyzing Market Data...</h4>
                    <div id="signal-display-area" style="width:100%;"></div>
                </div>
            </div>

            <!-- صفحة النتائج -->
            <div id="tab-results" class="hidden">
                <h3 id="title-history" style="text-align:center; margin-bottom:15px;">Trading History</h3>
                <div id="history-content" style="text-align:center; color:#555;">No records found.</div>
            </div>

            <!-- صفحة الاستراتيجيات -->
            <div id="tab-strat" class="hidden">
                <div class="iron-card">
                    <img src="https://via.placeholder.com/400x200/222/555?text=Strategy+Iron" style="width:100%; border-radius:5px;">
                    <h4 style="margin-top:10px;">Iron Trend Strategy</h4>
                    <p style="font-size:0.8rem; color:#aaa;">Follow the trend lines carefully.</p>
                </div>
            </div>

        </div>

        <!-- القائمة السفلية -->
        <div class="btm-nav">
            <div class="nav-icon active" onclick="switchTab('signals', this)">
                <i class="fa-solid fa-tower-broadcast"></i>
            </div>
            <div class="nav-icon" onclick="switchTab('results', this)">
                <i class="fa-solid fa-list-check"></i>
                <div class="badge" id="badge-res">0</div>
            </div>
            <div class="nav-icon" onclick="switchTab('strat', this)">
                <i class="fa-solid fa-chess-knight"></i>
                <div class="badge" id="badge-strat">0</div>
            </div>
        </div>
    </div>

    <script>
        // ================= الترجمة =================
        const txt = {
            en: {
                users: "Users", wins: "Wins", loss: "Losses",
                join: "Join our channel for updates", btnTg: "Join Channel",
                how: "How it works:",
                i1: "Choose your trading platform below.",
                i2: "Wait for the signal notification.",
                i3: "Execute trade: Green=Buy, Red=Sell.",
                i4: "Use proper money management (max 5%).",
                start: "START NOW",
                rev: "User Reviews", more: "Show More Reviews",
                addRev: "Add Your Review", name: "Your Name", msg: "Your Message...", sub: "Submit Review",
                follow: "Follow us for more bots & updates",
                ana: "Analyzing Market Data...", hist: "Trading History",
                entry: "Entry", min: "Min"
            },
            ar: {
                users: "مستخدم", wins: "ربح", loss: "خسارة",
                join: "انضم لقناتنا للحصول على التحديثات", btnTg: "انضم للقناة",
                how: "كيف يعمل البوت:",
                i1: "اختر المنصة من الأسفل للدخول.",
                i2: "انتظر صوت التنبيه وظهور الإشارة.",
                i3: "نفذ الصفقة: أخضر=شراء، أحمر=بيع.",
                i4: "التزم بإدارة رأس المال (حد أقصى 5%).",
                start: "ابدأ الآن",
                rev: "آراء المستخدمين", more: "عرض المزيد من التقييمات",
                addRev: "أضف تقييمك", name: "الاسم", msg: "الرسالة...", sub: "إرسال التقييم",
                follow: "تابعونا للحصول على المزيد من البوتات",
                ana: "جاري تحليل بيانات السوق...", hist: "سجل التداول",
                entry: "دخول", min: "دقيقة"
            }
        };

        let lang = 'en';

        function toggleLang() {
            lang = lang === 'en' ? 'ar' : 'en';
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

            const t = txt[lang];
            // Stats
            document.getElementById('lbl-users').innerText = t.users;
            document.getElementById('lbl-wins').innerText = t.wins;
            document.getElementById('lbl-loss').innerText = t.loss;
            document.getElementById('txt-join-tg').innerText = t.join;
            document.getElementById('btn-tg').innerText = t.btnTg;
            // Instructions
            document.getElementById('title-how').innerText = t.how;
            document.getElementById('inst-1').innerText = t.i1;
            document.getElementById('inst-2').innerText = t.i2;
            document.getElementById('inst-3').innerText = t.i3;
            document.getElementById('inst-4').innerText = t.i4;
            // Start
            document.getElementById('title-start').innerText = t.start;
            // Reviews
            document.getElementById('title-reviews').innerText = t.rev;
            document.getElementById('btn-more').innerText = t.more;
            document.getElementById('title-add-rev').innerText = t.addRev;
            document.getElementById('inp-name').placeholder = t.name;
            document.getElementById('inp-msg').placeholder = t.msg;
            document.getElementById('btn-submit').innerText = t.sub;
            // Footer
            document.getElementById('txt-follow').innerText = t.follow;
            // App
            document.getElementById('txt-analyzing').innerText = t.ana;
            document.getElementById('title-history').innerText = t.hist;
        }

        // ================= التطبيق =================
        function enterApp(name) {
            document.getElementById('home-view').classList.add('hidden');
            document.getElementById('app-view').style.display = 'flex';
            document.getElementById('app-title').innerText = name;
            
            setTimeout(createSignal, 3000);
            
            // استراتيجية جديدة وهمية
            document.getElementById('badge-strat').style.opacity = '1';
            document.getElementById('badge-strat').innerText = '1';
        }

        function exitApp() {
            document.getElementById('app-view').style.display = 'none';
            document.getElementById('home-view').classList.remove('hidden');
        }

        function switchTab(tab, el) {
            document.getElementById('tab-signals').classList.add('hidden');
            document.getElementById('tab-results').classList.add('hidden');
            document.getElementById('tab-strat').classList.add('hidden');
            document.getElementById('tab-' + tab).classList.remove('hidden');

            document.querySelectorAll('.nav-icon').forEach(x => x.classList.remove('active'));
            el.classList.add('active');

            if(tab === 'results') document.getElementById('badge-res').style.opacity = '0';
        }

        // ================= الصوت المحسّن بدون تقطع =================
        let muted = false;
        
        function toggleMute() { 
            muted = !muted; 
            document.getElementById('icon-mute').className = muted ? 'fa-solid fa-volume-xmark' : 'fa-solid fa-volume-high'; 
        }

        // دالة لتوليد نغمة مستقلة لكل ضغطة (لتجنب التقطيع) - EXACTLY from the provided code
        function playTone(freq, duration, type="sine", volume=0.4) {
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            const osc  = ctx.createOscillator();
            const gain = ctx.createGain();

            osc.type = type;
            osc.frequency.value = freq;

            gain.gain.setValueAtTime(volume, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + duration/1000);

            osc.connect(gain);
            gain.connect(ctx.destination);

            osc.start();
            osc.stop(ctx.currentTime + duration/1000);
        }

        // صوت ربح: Ding → Ding أعلى - EXACTLY from the provided code
        function win() {
            if(muted) return;
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            if(ctx.state === 'suspended') ctx.resume();
            
            playTone(600, 120);           // Ding الأول
            setTimeout(() => playTone(900, 120), 110); // Ding الثاني أعلى قليلاً
        }

        // صوت خسارة محسّن أعلى: نغمة هابطة واضحة - EXACTLY from the provided code
        function lose() {
            if(muted) return;
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            if(ctx.state === 'suspended') ctx.resume();
            
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();

            osc.type = "sine";
            osc.frequency.setValueAtTime(550, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(300, ctx.currentTime + 0.3);

            // LFO صغير لإضفاء اهتزاز خفيف
            const lfo = ctx.createOscillator();
            const lfoGain = ctx.createGain();
            lfo.frequency.value = 8;  // اهتزاز
            lfoGain.gain.value = 8;   // زيادة لتصبح واضحة
            lfo.connect(lfoGain);
            lfoGain.connect(osc.frequency);
            lfo.start();
            lfo.stop(ctx.currentTime + 0.3);

            gain.gain.setValueAtTime(0.5, ctx.currentTime); // زيادة الصوت ليصبح مسموعاً جيداً
            gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.3);

            osc.connect(gain);
            gain.connect(ctx.destination);

            osc.start();
            osc.stop(ctx.currentTime + 0.3);
        }

        // ================= الإشارات والصوت =================
        function playSound(type) {
            if(muted) return;
            const ctx = new (window.AudioContext || window.webkitAudioContext)();
            if(ctx.state === 'suspended') ctx.resume();
            
            if(type === 'notify') {
                // Play the exact win sound for signal notification
                playTone(600, 120);
                setTimeout(() => playTone(900, 120), 110);
            }
        }

        let resCount = 0;

        function createSignal() {
            const isBuy = Math.random() > 0.5;
            const cls = isBuy ? 'sig-green' : 'sig-red';
            const icon = isBuy ? 'fa-arrow-up' : 'fa-arrow-down';
            const t = txt[lang];

            const html = `
            <div class="signal-card ${cls}" id="sig-card">
                <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-weight:bold;">
                    <span>EUR/USD</span>
                    <span style="font-size:0.9rem;">${t.entry}: 1.0950</span>
                </div>
                <div style="text-align:center; margin:20px 0;">
                    <i class="fa-solid ${icon}" style="font-size:2.5rem; filter:drop-shadow(0 0 5px white);"></i>
                </div>
                <div style="display:flex; justify-content:space-between; background:rgba(0,0,0,0.3); padding:10px; border-radius:5px;">
                    <span><i class="fa-regular fa-clock"></i> 2 ${t.min}</span>
                    <span style="font-family:monospace; font-weight:bold; font-size:1.2rem;">02:00</span>
                </div>
            </div>`;

            document.getElementById('signal-display-area').innerHTML = html;
            document.getElementById('txt-analyzing').style.display = 'none';
            playSound('notify');

            setTimeout(() => {
                const winResult = Math.random() > 0.3; // 70% win rate
                document.getElementById('sig-card').innerHTML = `
                    <div style="text-align:center; padding:30px; font-size:1.5rem; font-weight:bold;">
                        ${winResult ? '<i class="fa-solid fa-trophy"></i> WIN' : '<i class="fa-solid fa-xmark"></i> LOSS'}
                    </div>`;
                
                // Play the EXACT sounds from the provided code
                if(winResult) {
                    win();
                } else {
                    lose();
                }
                
                resCount++;
                const b = document.getElementById('badge-res');
                b.style.opacity = '1';
                b.innerText = resCount;

                const h = document.getElementById('history-content');
                if(h.innerText.includes('No records')) h.innerHTML = '';
                h.innerHTML += `<div style="border-bottom:1px solid #333; padding:10px;">EUR/USD - ${winResult ? 'WIN' : 'LOSS'}</div>`;
            }, 5000);
        }
    </script>
</body>
</html>
```
